<!DOCTYPE html>
<html>
<head>
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.55.2/dist/phaser.min.js"></script>
</head>
<body style="margin: 0; background: #ffdef2;">
<script>
    const config = {
        type: Phaser.AUTO,
        width: 800, height: 600,
        physics: { default: 'arcade', arcade: { gravity: { y: 600 } } },
        scene: { preload: preload, create: create, update: update }
    };

    const game = new Phaser.Game(config);
    let player, platforms, cursors, heart;

    function preload() {
        // We are leaving this empty to prove the game works without external files!
    }

    function create() {
        platforms = this.physics.add.staticGroup();

        // Creating a "Ground" using a pink rectangle (No image needed!)
        let ground = this.add.rectangle(400, 580, 800, 40, 0xff69b4);
        this.physics.add.existing(ground, true);
        platforms.add(ground);

        // Creating a platform
        let plat1 = this.add.rectangle(600, 400, 200, 20, 0xff69b4);
        this.physics.add.existing(plat1, true);
        platforms.add(plat1);

        // The Player: A Purple Square (Representing your Pixel Girl for now)
        player = this.physics.add.sprite(100, 450);
        player.setOrigin(0.5);
        // Create a simple rectangle graphics for the player
        let playerGraphics = this.make.graphics({x: 0, y: 0, add: false});
        playerGraphics.fillStyle(0x9b59b6, 1);
        playerGraphics.fillRect(0, 0, 32, 48);
        playerGraphics.generateTexture('girl_temp', 32, 48);
        player.setTexture('girl_temp');

        player.setCollideWorldBounds(true);

        // The Goal: A Red Square (Representing the Heart)
        heart = this.physics.add.sprite(700, 300);
        let heartGraphics = this.make.graphics({x: 0, y: 0, add: false});
        heartGraphics.fillStyle(0xff0000, 1);
        heartGraphics.fillRect(0, 0, 30, 30);
        heartGraphics.generateTexture('heart_temp', 30, 30);
        heart.setTexture('heart_temp');

        this.physics.add.collider(player, platforms);
        this.physics.add.overlap(player, heart, () => {
            this.add.text(200, 250, 'Congrats on being\nmy Valentine!', { 
                fontSize: '40px', fill: '#ff0066', backgroundColor: '#ffffff' 
            });
            this.physics.pause();
        }, null, this);

        cursors = this.input.keyboard.createCursorKeys();
    }

    function update() {
        if (cursors.left.isDown) player.setVelocityX(-160);
        else if (cursors.right.isDown) player.setVelocityX(160);
        else player.setVelocityX(0);
        if (cursors.up.isDown && player.body.touching.down) player.setVelocityY(-400);
    }
</script>
</body>
</html>

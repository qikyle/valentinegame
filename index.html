<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.55.2/dist/phaser.min.js"></script>
    <style>body { margin: 0; background: #ffdef2; overflow: hidden; }</style>
</head>
<body>
<script>
    const config = {
        type: Phaser.AUTO,
        width: 800, height: 600,
        physics: { default: 'arcade', arcade: { gravity: { y: 1000 }, debug: false } },
        scene: { preload: preload, create: create, update: update }
    };

    const game = new Phaser.Game(config);
    let player, platforms, cursors, monsters, goal, isWon = false;

    function preload() {}

    function create() {
        const worldWidth = 4000;
        this.physics.world.setBounds(0, 0, worldWidth, 650);

        // --- DRAW ASSETS ---
        // 1. Player Heart
        let h = this.make.graphics({x: 0, y: 0, add: false});
        h.fillStyle(0xff69b4, 1);
        h.fillCircle(10, 10, 10); h.fillCircle(30, 10, 10);
        h.fillTriangle(0, 15, 40, 15, 20, 40);
        h.generateTexture('heart', 40, 40);

        // 2. Tree
        let tG = this.make.graphics({x: 0, y: 0, add: false});
        tG.fillStyle(0x8B4513, 1); tG.fillRect(15, 40, 10, 20); // Trunk
        tG.fillStyle(0x2d5a27, 1); tG.fillTriangle(20, 0, 0, 40, 40, 40); // Leaves
        tG.generateTexture('tree', 40, 60);

        // 3. Pink Brick
        let bG = this.make.graphics({x: 0, y: 0, add: false});
        bG.fillStyle(0xffb6c1, 1); bG.fillRect(0, 0, 40, 40);
        bG.lineStyle(1, 0xffffff, 1); bG.strokeRect(0, 0, 40, 40);
        bG.generateTexture('brick', 40, 40);

        // 4. Monster
        let mG = this.make.graphics({x: 0, y: 0, add: false});
        mG.fillStyle(0x5dade2, 1); mG.fillRect(0, 0, 30, 30);
        mG.generateTexture('monster', 30, 30);

        // --- BACKGROUND TREES ---
        for (let i = 0; i < worldWidth; i += 300) {
            this.add.image(i + Phaser.Math.Between(0, 100), 520, 'tree').setAlpha(0.6).setScale(1.5);
        }

        // --- LEVEL DESIGN (Playable Path) ---
        platforms = this.physics.add.staticGroup();
        
        // Ground with safe-sized gaps
        for (let x = 0; x < worldWidth; x += 40) {
            if ((x > 1000 && x < 1200) || (x > 2200 && x < 2450)) continue;
            platforms.create(x, 580, 'brick');
        }

        // Mid-air platforms to help cross
